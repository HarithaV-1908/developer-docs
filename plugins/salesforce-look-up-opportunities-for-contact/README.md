---
availability: IDEA
description: A plugin that allows you to know the full picture by instantly seeing
  all opportunities tied to any contact to prioritize better and close deals faster.
domain:
- Sales
- Productivity
fidelity: GUIDE
name: Look Up Opportunities for a Contact
difficulty_level: BEGINNER
time_in_minutes: 20
purple_chat_link: https://marketplace.moveworks.com/purple-chat?conversation=%7B%22startTimestamp%22%3A%2211%3A43+AM%22%2C%22messages%22%3A%5B%7B%22role%22%3A%22user%22%2C%22parts%22%3A%5B%7B%22richText%22%3A%22I+want+to+view+opportunities+for+a+contact.%22%7D%5D%7D%2C%7B%22role%22%3A%22assistant%22%2C%22parts%22%3A%5B%7B%22richText%22%3A%22Okay%2C+I+can+help+you+with+that.+Can+you+specify+if+you+would+like+to+view+opportunities+for+any+contacts+assigned+to+you%2C+a+specific+contact%2C+or+a+contact+within+an+account%3F%22%7D%5D%7D%2C%7B%22role%22%3A%22user%22%2C%22parts%22%3A%5B%7B%22richText%22%3A%22John+within+Stark+Industries.%22%7D%5D%7D%2C%7B%22role%22%3A%22assistant%22%2C%22parts%22%3A%5B%7B%22reasoningSteps%22%3A%5B%7B%22status%22%3A%22success%22%2C%22richText%22%3A%22Searching+for+contacts+named+%27John%27+within+the+%27Stark+Industries%27+account+in+Salesforce...%22%7D%5D%7D%2C%7B%22richText%22%3A%22I+found+multiple+contacts+for+%27John%27+within+%27Stark+Industries%27.+Which+one+would+you+like+to+view+opportunities+for%3F%3Cul+xmlns%3D%5C%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%5C%22%3E%3Cli%3EJohn+Doe%3C%2Fli%3E%3Cli%3EJohn+Smith%3C%2Fli%3E%3C%2Ful%3E%22%7D%2C%7B%22citations%22%3A%5B%7B%22connectorName%22%3A%22salesforce%22%2C%22citationTitle%22%3A%22John+Doe%22%7D%2C%7B%22connectorName%22%3A%22salesforce%22%2C%22citationTitle%22%3A%22John+Smith%22%7D%5D%7D%5D%7D%2C%7B%22role%22%3A%22user%22%2C%22parts%22%3A%5B%7B%22richText%22%3A%22for+John+Doe.%22%7D%5D%7D%2C%7B%22role%22%3A%22assistant%22%2C%22parts%22%3A%5B%7B%22reasoningSteps%22%3A%5B%7B%22status%22%3A%22success%22%2C%22richText%22%3A%22Retrieving+opportunities+associated+with+John+Doe+from+Stark+Industries+in+Salesforce...%22%7D%5D%7D%2C%7B%22richText%22%3A%22Here+are+the+opportunities+for+%3Cb+xmlns%3D%5C%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%5C%22%3EJohn+Doe%3C%2Fb%3E+at+%3Cb+xmlns%3D%5C%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%5C%22%3EStark+Industries%3C%2Fb%3E%3A%3Cul+xmlns%3D%5C%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%5C%22%3E%3Cli%3E%3Cb%3EOpportunity%3A%3C%2Fb%3E+Arc+Reactor+Integration%3Cul%3E%3Cli%3E%3Cb%3EStage%3A%3C%2Fb%3E+Qualification%3C%2Fli%3E%3Cli%3E%3Cb%3EAmount%3A%3C%2Fb%3E+%241%2C200%2C000%3C%2Fli%3E%3Cli%3E%3Cb%3EARR%3A%3C%2Fb%3E+%24200%2C000%3C%2Fli%3E%3Cli%3E%3Cb%3EProduct%3A%3C%2Fb%3E+Arc+Reactor+v2%3C%2Fli%3E%3Cli%3E%3Cb%3EType%3A%3C%2Fb%3E+New+Business%3C%2Fli%3E%3Cli%3E%3Cb%3EClose+Date%3A%3C%2Fb%3E+2024-12-31%3C%2Fli%3E%3Cli%3E%3Cb%3ELead+Source%3A%3C%2Fb%3E+Web%3C%2Fli%3E%3C%2Ful%3E%3C%2Fli%3E%3Cli%3E%3Cb%3EOpportunity%3A%3C%2Fb%3E+Iron+Man+Suit+Components%3Cul%3E%3Cli%3E%3Cb%3EStage%3A%3C%2Fb%3E+Negotiation%2FReview%3C%2Fli%3E%3Cli%3E%3Cb%3EAmount%3A%3C%2Fb%3E+%243%2C500%2C000%3C%2Fli%3E%3Cli%3E%3Cb%3EARR%3A%3C%2Fb%3E+%24500%2C000%3C%2Fli%3E%3Cli%3E%3Cb%3EProduct%3A%3C%2Fb%3E+Mark+L+Suit+Parts%3C%2Fli%3E%3Cli%3E%3Cb%3EType%3A%3C%2Fb%3E+Existing+Business%3C%2Fli%3E%3Cli%3E%3Cb%3EClose+Date%3A%3C%2Fb%3E+2024-11-15%3C%2Fli%3E%3Cli%3E%3Cb%3ELead+Source%3A%3C%2Fb%3E+Referral%3C%2Fli%3E%3C%2Ful%3E%3C%2Fli%3E%3Cli%3E%3Cb%3EOpportunity%3A%3C%2Fb%3E+Repulsor+Technology+Licensing%3Cul%3E%3Cli%3E%3Cb%3EStage%3A%3C%2Fb%3E+Closed+Won%3C%2Fli%3E%3Cli%3E%3Cb%3EAmount%3A%3C%2Fb%3E+%24800%2C000%3C%2Fli%3E%3Cli%3E%3Cb%3EARR%3A%3C%2Fb%3E+%24150%2C000%3C%2Fli%3E%3Cli%3E%3Cb%3EProduct%3A%3C%2Fb%3E+Repulsor+Ray+Tech%3C%2Fli%3E%3Cli%3E%3Cb%3EType%3A%3C%2Fb%3E+Existing+Business%3C%2Fli%3E%3Cli%3E%3Cb%3EClose+Date%3A%3C%2Fb%3E+2024-06-30%3C%2Fli%3E%3Cli%3E%3Cb%3ELead+Source%3A%3C%2Fb%3E+Partner%3C%2Fli%3E%3C%2Ful%3E%3C%2Fli%3E%3C%2Ful%3E%22%7D%2C%7B%22citations%22%3A%5B%7B%22connectorName%22%3A%22salesforce%22%2C%22citationTitle%22%3A%22Stark+Industries%22%7D%2C%7B%22connectorName%22%3A%22salesforce%22%2C%22citationTitle%22%3A%22Arc+Reactor+Integration%22%7D%2C%7B%22connectorName%22%3A%22salesforce%22%2C%22citationTitle%22%3A%22Iron+Man+Suit+Components%22%7D%2C%7B%22connectorName%22%3A%22salesforce%22%2C%22citationTitle%22%3A%22Repulsor+Technology+Licensing%22%7D%5D%7D%5D%7D%5D%7D
solution_tags:
- Productivity
- Sales
systems:
- salesforce

---
## **Introduction**

The **“Look Up Opportunities for a Contact”** plugin helps users easily find all Opportunities associated with a specified contact—directly through the Moveworks AI Assistant. This plugin allows users to instantly retrieve opportunities linked to a contact by searching through the **contact name**, **contacts assigned to them**, or **contacts within an account**. It streamlines sales tracking, supports timely follow-ups, and enhances overall CRM efficiency without the need for manual searches.
This guide will walk you through setting up and customizing the plugin in Agent Studio in just a few minutes. Let’s get started!

## **Prerequisites**

• Access to **Agent Studio**

## **What are we building?**

### **Agent Design**

This [purple chat](https://marketplace.moveworks.com/purple-chat?conversation=%7B%22startTimestamp%22%3A%2211%3A43+AM%22%2C%22messages%22%3A%5B%7B%22role%22%3A%22user%22%2C%22parts%22%3A%5B%7B%22richText%22%3A%22I+want+to+view+opportunities+for+a+contact.%22%7D%5D%7D%2C%7B%22role%22%3A%22assistant%22%2C%22parts%22%3A%5B%7B%22richText%22%3A%22Okay%2C+I+can+help+you+with+that.+Can+you+specify+if+you+would+like+to+view+opportunities+for+any+contacts+assigned+to+you%2C+a+specific+contact%2C+or+a+contact+within+an+account%3F%22%7D%5D%7D%2C%7B%22role%22%3A%22user%22%2C%22parts%22%3A%5B%7B%22richText%22%3A%22John+within+Stark+Industries.%22%7D%5D%7D%2C%7B%22role%22%3A%22assistant%22%2C%22parts%22%3A%5B%7B%22reasoningSteps%22%3A%5B%7B%22status%22%3A%22success%22%2C%22richText%22%3A%22Searching+for+contacts+named+%27John%27+within+the+%27Stark+Industries%27+account+in+Salesforce...%22%7D%5D%7D%2C%7B%22richText%22%3A%22I+found+multiple+contacts+for+%27John%27+within+%27Stark+Industries%27.+Which+one+would+you+like+to+view+opportunities+for%3F%3Cul+xmlns%3D%5C%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%5C%22%3E%3Cli%3EJohn+Doe%3C%2Fli%3E%3Cli%3EJohn+Smith%3C%2Fli%3E%3C%2Ful%3E%22%7D%2C%7B%22citations%22%3A%5B%7B%22connectorName%22%3A%22salesforce%22%2C%22citationTitle%22%3A%22John+Doe%22%7D%2C%7B%22connectorName%22%3A%22salesforce%22%2C%22citationTitle%22%3A%22John+Smith%22%7D%5D%7D%5D%7D%2C%7B%22role%22%3A%22user%22%2C%22parts%22%3A%5B%7B%22richText%22%3A%22for+John+Doe.%22%7D%5D%7D%2C%7B%22role%22%3A%22assistant%22%2C%22parts%22%3A%5B%7B%22reasoningSteps%22%3A%5B%7B%22status%22%3A%22success%22%2C%22richText%22%3A%22Retrieving+opportunities+associated+with+John+Doe+from+Stark+Industries+in+Salesforce...%22%7D%5D%7D%2C%7B%22richText%22%3A%22Here+are+the+opportunities+for+%3Cb+xmlns%3D%5C%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%5C%22%3EJohn+Doe%3C%2Fb%3E+at+%3Cb+xmlns%3D%5C%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%5C%22%3EStark+Industries%3C%2Fb%3E%3A%3Cul+xmlns%3D%5C%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%5C%22%3E%3Cli%3E%3Cb%3EOpportunity%3A%3C%2Fb%3E+Arc+Reactor+Integration%3Cul%3E%3Cli%3E%3Cb%3EStage%3A%3C%2Fb%3E+Qualification%3C%2Fli%3E%3Cli%3E%3Cb%3EAmount%3A%3C%2Fb%3E+%241%2C200%2C000%3C%2Fli%3E%3Cli%3E%3Cb%3EARR%3A%3C%2Fb%3E+%24200%2C000%3C%2Fli%3E%3Cli%3E%3Cb%3EProduct%3A%3C%2Fb%3E+Arc+Reactor+v2%3C%2Fli%3E%3Cli%3E%3Cb%3EType%3A%3C%2Fb%3E+New+Business%3C%2Fli%3E%3Cli%3E%3Cb%3EClose+Date%3A%3C%2Fb%3E+2024-12-31%3C%2Fli%3E%3Cli%3E%3Cb%3ELead+Source%3A%3C%2Fb%3E+Web%3C%2Fli%3E%3C%2Ful%3E%3C%2Fli%3E%3Cli%3E%3Cb%3EOpportunity%3A%3C%2Fb%3E+Iron+Man+Suit+Components%3Cul%3E%3Cli%3E%3Cb%3EStage%3A%3C%2Fb%3E+Negotiation%2FReview%3C%2Fli%3E%3Cli%3E%3Cb%3EAmount%3A%3C%2Fb%3E+%243%2C500%2C000%3C%2Fli%3E%3Cli%3E%3Cb%3EARR%3A%3C%2Fb%3E+%24500%2C000%3C%2Fli%3E%3Cli%3E%3Cb%3EProduct%3A%3C%2Fb%3E+Mark+L+Suit+Parts%3C%2Fli%3E%3Cli%3E%3Cb%3EType%3A%3C%2Fb%3E+Existing+Business%3C%2Fli%3E%3Cli%3E%3Cb%3EClose+Date%3A%3C%2Fb%3E+2024-11-15%3C%2Fli%3E%3Cli%3E%3Cb%3ELead+Source%3A%3C%2Fb%3E+Referral%3C%2Fli%3E%3C%2Ful%3E%3C%2Fli%3E%3Cli%3E%3Cb%3EOpportunity%3A%3C%2Fb%3E+Repulsor+Technology+Licensing%3Cul%3E%3Cli%3E%3Cb%3EStage%3A%3C%2Fb%3E+Closed+Won%3C%2Fli%3E%3Cli%3E%3Cb%3EAmount%3A%3C%2Fb%3E+%24800%2C000%3C%2Fli%3E%3Cli%3E%3Cb%3EARR%3A%3C%2Fb%3E+%24150%2C000%3C%2Fli%3E%3Cli%3E%3Cb%3EProduct%3A%3C%2Fb%3E+Repulsor+Ray+Tech%3C%2Fli%3E%3Cli%3E%3Cb%3EType%3A%3C%2Fb%3E+Existing+Business%3C%2Fli%3E%3Cli%3E%3Cb%3EClose+Date%3A%3C%2Fb%3E+2024-06-30%3C%2Fli%3E%3Cli%3E%3Cb%3ELead+Source%3A%3C%2Fb%3E+Partner%3C%2Fli%3E%3C%2Ful%3E%3C%2Fli%3E%3C%2Ful%3E%22%7D%2C%7B%22citations%22%3A%5B%7B%22connectorName%22%3A%22salesforce%22%2C%22citationTitle%22%3A%22Stark+Industries%22%7D%2C%7B%22connectorName%22%3A%22salesforce%22%2C%22citationTitle%22%3A%22Arc+Reactor+Integration%22%7D%2C%7B%22connectorName%22%3A%22salesforce%22%2C%22citationTitle%22%3A%22Iron+Man+Suit+Components%22%7D%2C%7B%22connectorName%22%3A%22salesforce%22%2C%22citationTitle%22%3A%22Repulsor+Technology+Licensing%22%7D%5D%7D%5D%7D%5D%7D) shows the experience we are going to build.

## **Installation Steps**

We recommend creating the connector for **Salesforce** first, prior to installing this plugin. Please follow the  [Salesforce Connector](https://marketplace.moveworks.com/connectors/salesforce#how-to-implement) guide to set up the connector.

**Object Access**:

- `Read` access to the **Opportunity** object

After you have configured the connector, Please refer to our [plugin installation documentation](https://help.moveworks.com/docs/ai-agent-marketplace-installation) for more details on how to install a plugin in Agent Studio.

**Note :** 
The Moveworks bot will only display opportunities where the Contact Role field contains a value. Please ensure that this field is updated whenever an opportunity is created or edited, so the bot can accurately surface the relevant opportunities.

## **Appendix**

### **API #1 : Get Opportunities by Contact owner's Email**

```bash
curl --location 'https://<your-instance>/services/data/v59.0/query/?q=SELECT+Id%2C+Title%2C+Name%[2C+Account.Name](http://2c+account.name/)%2C+Phone%2C+Email%2C+CreatedDate%2C+LastActivityDate+FROM+Contact+WHERE+Owner.Email%3D%27{{ownerEmail}}%27+ORDER+BY+LastModifiedDate+DESC+LIMIT+100' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer <your-access-token>'
```

**Query Parameters**

- `{{ownerEmail}}` - Contact owner's Email

### **API #2 : Get Opportunities by Contact Name**

```bash
curl --location 'https://<your-instance>/services/data/v59.0/query/?q=SELECT+Id%2C+Title%2C+Name%2C+Email%[2C+Account.Name](http://2c+account.name/)%2C+Phone%2C+CreatedDate%2C+LastActivityDate+FROM+Contact+WHERE+Name+LIKE+%27%25{{contactName}}%25%27+ORDER+BY+LastModifiedDate+DESC+LIMIT+100' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer <your-access-token>'
```

**Query Parameters**

- `{{contactName}}` - Search for a specific contact by name

### **API #3 :** Get Opportunities of a contact by Account name

```bash
curl --location 'https://<your-instance>/services/data/v59.0/query/?q=SELECT+Id%2C+FirstName%2C+LastName%2C+Email%2C+Account.Name+FROM+Contact+WHERE+Account.Name+LIKE+%27%25{{accountName}}%25%27+ORDER+BY+Account.Name+DESC+LIMIT+100' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer <your-access-token>'
```

**Query Parameters**

- `{{accountName}}` - Retrieve contact by searching for a specific account name

### **API #4 :** **Get Opportunities Details**

```bash
curl --location 'https://<your-instance>/services/data/v59.0/query/?q=SELECT+Id%2C+ContactId%2C+OpportunityId%2C+Role%[2C+Opportunity.Name](http://2c+opportunity.name/)%[2C+Opportunity.Account.Name](http://2c+opportunity.account.name/)%2C+Opportunity.StageName%2C+Opportunity.Amount%2C+Opportunity.CloseDate%[2C+Opportunity.Owner.Name](http://2c+opportunity.owner.name/)%2C+Opportunity.NextStep%2C+Opportunity.Type%2C+Opportunity.LeadSource+FROM+OpportunityContactRole+WHERE+ContactId%3D%27{{contact_data}}%27+ORDER+BY+LastModifiedDate+DESC+LIMIT+100' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer <your-access-token>'
```

**Query Parameters**

- `{{contact_data}}` - Search by contact id to retrieve opportunities details
